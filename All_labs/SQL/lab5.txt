--1
ALTER TABLE passengers ADD CHECK ( extract(year from AGE(date_of_birth))>10 );
--2
ALTER TABLE booking ADD CHECK ( price>0 AND price<50000 );
--3
ALTER TABLE baggage ADD CHECK ( weight_in_kg BETWEEN 1 and 23);
--4
ALTER TABLE airport ADD CHECK ( length(airport_name)>10);
--5
ALTER TABLE airline ADD UNIQUE (airline_name);
ALTER TABLE airport ADD UNIQUE(airport_name);
ALTER TABLE baggage ADD UNIQUE(baggage_id);
ALTER TABLE baggage_check ADD UNIQUE(baggage_check_id);
ALTER TABLE boarding_pass ADD UNIQUE(boarding_pass_id);
ALTER TABLE booking ADD UNIQUE(booking_id);
ALTER TABLE booking_flight ADD UNIQUE(booking_flight_id);
ALTER TABLE flights ADD UNIQUE(flight_id);
ALTER TABLE passengers ADD UNIQUE(passport_number);
ALTER TABLE security_check ADD UNIQUE(security_check_id);
--6
ALTER TABLE passengers ADD CHECK ((gender='Male' AND extract(year from AGE(date_of_birth))>18) OR
                                  (gender='Female' AND extract(year from AGE(date_of_birth))>19));
--7
ALTER TABLE passengers ADD CHECK ((country_of_citizenship='Kazakhstan' AND extract(year from AGE(date_of_birth))>18) OR
                                  (country_of_citizenship='France' AND extract(year from AGE(date_of_birth))>17) OR
                                  (country_of_citizenship NOT IN('Kazakhstan','France') AND extract(year from AGE(date_of_birth))>19));
--8
ALTER TABLE booking ADD column ticket_discount numeric;
ALTER TABLE booking ADD CHECK ((created_at<'2024-01-01' AND ticket_discount=0.05) OR
                               (created_at>='2024-01-01' AND ticket_discount=0.1));